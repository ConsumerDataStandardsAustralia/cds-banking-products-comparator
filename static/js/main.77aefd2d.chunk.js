(this["webpackJsonpproduct-comparator-demo"]=this["webpackJsonpproduct-comparator-demo"]||[]).push([[0],{137:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),c=a.n(r),i=(a(137),a(12)),l=a(5),o=a(216),d=a(190),j=a(199),p=a(14),b=a.n(p),u=a(106),x=a.n(u),h=a(107),O=a.n(h),m=a(76),g=a.n(m),f=a(117),y=a(105),v=a.n(y),E=a(146),T=a(198),R=a(108),N=a.n(R),I=a(193),A=a(192),S=a(215),C=a(211),D=a(77),L=a.n(D),P=a(197);const _="LOAD_DATA_SOURCE",k="ADD_DATA_SOURCE",U="SYNC_DATA_SOURCES",M="SAVE_DATA_SOURCE",F="DELETE_DATA_SOURCE",w="MODIFY_DATA_SOURCE_NAME",B="MODIFY_DATA_SOURCE_URL",V="MODIFY_DATA_SOURCE_ENERGY_PRD_URL",G="MODIFY_DATA_SOURCE_ICON",H="ENABLE_DATA_SOURCE",Y={ANZ:[],CommBank:["CBA","Commonwealth Bank"],"NATIONAL AUSTRALIA BANK":["NAB","National"],Westpac:[]},W=Object.keys(Y);function z(e,t){const a={};return e.forEach((e=>a[e.name]=e)),t.forEach((e=>{const t=e.name;W.includes(t)&&Y[t].forEach((e=>{a[t]={...a[e],...a[t]},delete a[e]})),a[t]={...a[t],...e}})),Object.values(a)}function K(){const e=fetch("/product-comparator-demo/datasources.json").then((e=>e.json())),t=fetch("/product-comparator-demo/override.json").then((e=>e.json()));return Promise.all([e,t]).then((e=>{let[t,a]=e;return z(t,a)}))}function X(){const e=window.localStorage.getItem("cds-banking-prd-ds");return!!e&&JSON.parse(e)}const q=e=>"".concat(e,"_FULFILLED");function J(e){window.localStorage.setItem("cds-banking-prd-ds",JSON.stringify(e.filter((e=>!e.unsaved&&!e.deleted))))}const Z="SELECT_BANKING_PRODUCT",Q="DESELECT_BANKING_PRODUCT",$="CLEAR_BANKING_SELECTION",ee=e=>({type:$,payload:e});const te="CONSOLE_OUT",ae="CONSOLE_REFRESH",ne="CONSOLE_CLEAN",se=(e,t)=>ce({lvl:"log",txt:e,obj:t}),re=(e,t)=>ce({lvl:"error",txt:e,obj:t});function ce(e){return{type:te,payload:e,timestamp:new Date}}function ie(e,t){return re("Caught "+e+" while requesting "+t+("TypeError"===e.name?" Possibly caused by the endpoint not supporting Cross-Origin Requests (CORS)":""))}function le(e,t,a){if(!e.headers.get("x-v")){const e="Response for ".concat(t,": doesn't expose header x-v: possibly caused by incomplete "),c="CORS support";a((n=e+c,s="".concat(e,'<a href="https://cdr-support.zendesk.com/hc/en-us/articles/900003054706-CORS-support" target="_blank">').concat(c,"</a>"),ce({lvl:"error",txt:n,html:s,obj:r})))}var n,s,r}const oe=/^https?:\/\/localhost[:?\d]*(?:[^:?\d]\S*)?$/,de=/^https?:\/\/[^\s.]+\.\S{2,}$/;function je(e){if("string"!==typeof e)return!1;const t=e.toLowerCase();return oe.test(t)||de.test(t)}function pe(e){return e.endsWith("/")&&(e=e.substr(0,e.length-1)),e.endsWith("/cds-au/v1")||"localhost"===function(e){var t=document.createElement("a");return t.href=e,t}(e).hostname||(e+="/cds-au/v1"),e}function be(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase())))}const ue="START_RETRIEVE_PRODUCT_LIST",xe="RETRIEVE_PRODUCT_LIST",he="RETRIEVE_PRODUCT_DETAIL",Oe="DELETE_DATA",me="CLEAR_DATA",ge=e=>({type:ue,payload:{idx:e}}),fe={Accept:"application/json"},ye=(e,t,a,n,s)=>r=>{const c=new Request(a,{headers:new Headers({...fe,"x-v":n,"x-min-v":s})});r(se("Requesting retrieveProductList() for ".concat(a)));r({type:xe,payload:fetch(c).then((e=>{if(e.ok)return le(e,a,r),e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((e=>(r(se("Received retrieveProductList() response for ".concat(a,":"),e)),e))).catch((e=>(r(ie(e,a)),{meta:{totalRecords:0},data:{products:[]},links:{}}))).then((t=>({idx:e,response:t})))}).then((c=>{let{value:i}=c;const{products:l}=i.response.data,o=l.map((a=>ve(e,t,a.productId,n,s))),{next:d}=i.response.links;d&&(d===a?r(re("The link next should not be the same as the current page URL (".concat(a,"):"),i.response.links)):o.push(ye(e,t,d,n,s))),r(Ee(o))}))},ve=(e,t,a,n,s)=>(r,c)=>{const i=t+"/banking/products/"+be(a),l=new Request(i,{headers:new Headers({...fe,"x-v":n,"x-min-v":s})});r(se("Requesting retrieveProductDetail() for product "+a)),r({type:he,payload:fetch(l).then((e=>{if(e.ok)return e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((e=>(r(se("Received response for ".concat(i,":"),e)),e))).then((t=>{const{productDetails:a}=c().banking[e],{data:n}=t;return a.some((e=>e.productId===n.productId&&e.productCategory===n.productCategory))?(r(ce({lvl:"warn",txt:"Product with id ".concat(n.productId," already exists in ").concat(n.productCategory),obj:s})),{idx:e,response:null}):{idx:e,response:t};var s})).catch((t=>(r(ie(t,i)),{idx:e,response:null})))})},Ee=e=>t=>t({type:"RETRIEVE_ALL_PRODUCT_DETAILS",payload:Promise.all(e.map((e=>t(e))))}),Te=e=>({type:me,payload:e});var Re=a(217),Ne=a(103),Ie=a.n(Ne),Ae=a(102),Se=a.n(Ae),Ce=a(196),De=a(191),Le=a(194),Pe=a(1);const _e=Object(l.a)({root:{"&:before":{display:"none"},boxShadow:"none","&.Mui-expanded":{boxShadow:"0 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)"}}})(o.a),ke=Object(l.a)({content:{margin:0}})(d.a),Ue=Object(l.a)({root:{padding:0}})(De.a),Me=Object(A.a)((e=>({buttonContainer:{display:"flex",alignItems:"flex-end"},snackbar:{backgroundColor:e.palette.error.dark},message:{display:"flex",alignItems:"center"},fieldLabel:{width:"95%"},icon:{marginRight:e.spacing(2)}}))),Fe={saveDataSource:function(e,t){return{type:M,index:e,payload:t}},deleteDataSource:function(e){return{type:F,index:e}},enableDataSource:function(e,t){return{type:H,index:e,payload:t}},modifyDataSourceName:function(e,t){return{type:w,index:e,payload:t}},modifyDataSourceUrl:function(e,t){return{type:B,index:e,payload:t}},modifyDataSourceEnergyPrdUrl:function(e,t){return{type:V,index:e,payload:t}},modifyDataSourceIcon:function(e,t){return{type:G,index:e,payload:t}},clearSelection:ee,deleteData:e=>({type:Oe,payload:e}),clearData:Te};var we=Object(i.b)(null,Fe)((e=>{const t=Me(),{dataSource:a,index:n}=e,[r,c]=s.a.useState({open:!1,errorMessage:""}),i=t=>s=>{"name"===t?e.modifyDataSourceName(n,{...a,[t]:s.target.value}):"url"===t?(e.modifyDataSourceUrl(n,{...a,[t]:s.target.value}),a.unsaved||(e.clearSelection(n),e.clearData(n))):"energyPrd"===t?(e.modifyDataSourceEnergyPrdUrl(n,{...a,[t]:s.target.value}),a.unsaved||(e.clearSelection(n),e.clearData(n))):"icon"===t?e.modifyDataSourceIcon(n,{...a,[t]:s.target.value}):"enabled"===t&&(e.enableDataSource(n,{...a,[t]:s.target.checked}),a.enabled&&(e.clearSelection(n),e.clearData(n)))},l=()=>a.name.trim().length>0&&je(a.url),o=e=>e.stopPropagation();return Object(Pe.jsxs)(_e,{defaultExpanded:!1,children:[Object(Pe.jsx)(ke,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)(I.a,{container:!0,spacing:1,children:[Object(Pe.jsx)(I.a,{item:!0,xs:1,children:Object(Pe.jsx)(Le.a,{"aria-label":"Datasource Enabled",onClick:o,onFocus:o,control:Object(Pe.jsx)(S.a,{checked:a.enabled,onChange:i("enabled")})})}),Object(Pe.jsx)(I.a,{item:!0,xs:3,children:Object(Pe.jsx)(Le.a,{className:t.fieldLabel,"aria-label":"Datasource Name",onClick:o,onFocus:o,control:Object(Pe.jsx)(C.a,{error:!a.name.trim().length,required:!0,onChange:i("name"),margin:"normal",placeholder:"e.g. Acme Bank",value:a.name,fullWidth:!0})})}),Object(Pe.jsxs)(I.a,{item:!0,xs:4,children:[Object(Pe.jsx)(Le.a,{className:t.fieldLabel,"aria-label":"Datasource URL",onClick:o,onFocus:o,control:Object(Pe.jsx)(C.a,{error:!je(a.url),required:!0,onChange:i("url"),placeholder:"e.g. https://data.holder",value:a.url,margin:"normal",fullWidth:!0})}),Object(Pe.jsx)(Le.a,{"aria-label":"Error message",onClick:o,onFocus:o,control:Object(Pe.jsx)(Re.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r.open,autoHideDuration:3e3,children:Object(Pe.jsx)(Ce.a,{className:t.snackbar,message:Object(Pe.jsxs)("span",{className:t.message,children:[Object(Pe.jsx)(Se.a,{className:t.icon})," ",r.errorMessage]}),action:[Object(Pe.jsx)(f.a,{"aria-label":"Close",color:"inherit",onClick:()=>{c({...r,open:!1})},children:Object(Pe.jsx)(Ie.a,{className:t.icon})},"close")]})})})]}),Object(Pe.jsx)(I.a,{item:!0,xs:3,children:Object(Pe.jsx)(Le.a,{className:t.fieldLabel,"aria-label":"Datasource Logo",onClick:o,onFocus:o,control:Object(Pe.jsx)(C.a,{error:!!a.icon&&!je(a.icon),onChange:i("icon"),placeholder:"e.g. https://data.holder/images/bank.png",value:a.icon,margin:"normal",fullWidth:!0})})}),Object(Pe.jsx)(I.a,{item:!0,xs:1,className:t.buttonContainer,children:a.unsaved?Object(Pe.jsx)(Le.a,{"aria-label":"Save",onClick:o,onFocus:o,control:Object(Pe.jsx)(P.a,{title:"Save",children:Object(Pe.jsx)(f.a,{"aria-label":"Save",className:t.margin,onClick:t=>{if(l())e.saveDataSource(n,{...a});else{let e="";0===a.name.trim().length&&(e="Bank name is required. "),je(a.url)||(e+="URL is invalid."),c({open:!0,errorMessage:e})}t.stopPropagation(),t.preventDefault()},children:Object(Pe.jsx)(g.a,{fontSize:"large",color:l()?"primary":"action"})})})}):Object(Pe.jsx)(Le.a,{"aria-label":"Delete",onClick:o,onFocus:o,control:Object(Pe.jsx)(P.a,{title:"Delete",children:Object(Pe.jsx)(f.a,{"aria-label":"Delete",className:t.margin,onClick:()=>{e.deleteDataSource(n),e.deleteData(n),e.clearSelection(n)},children:Object(Pe.jsx)(L.a,{fontSize:"large",color:"secondary"})})})})})]})}),Object(Pe.jsxs)(Ue,{children:[Object(Pe.jsx)(I.a,{item:!0,xs:1}),Object(Pe.jsx)(I.a,{item:!0,xs:4,children:Object(Pe.jsx)(C.a,{error:!je(a.energyPrd),required:!1,onChange:i("energyPrd"),placeholder:"e.g. https://data.holder",value:a.energyPrd||"",margin:"normal",fullWidth:!0,label:"AER PRD URL (if needed)"})})]})]})})),Be=a(213),Ve=a(19);const Ge="LOAD_VERSION_INFO",He="SAVE_VERSION_INFO",Ye="SET_VERSIONS_EDITABLE",We="SET_VERSIONS_READ_ONLY";function ze(e){return window.localStorage.getItem(e)}function Ke(e,t){window.localStorage.setItem(e,t)}var Xe=a(200);class qe extends s.a.Component{componentDidMount(){this.props.loadDataSource(),this.props.loadVersionInfo()}render(){const{classes:e,dataSources:t,addDataSource:a,syncDataSources:n,vHeaders:s}=this.props,r=["1","2","3","4"];let{xV:c,xMinV:i}=s;return Object(Pe.jsxs)(o.a,{defaultExpanded:!1,className:e.panel,children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:e.heading,children:[Object(Pe.jsx)(v.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Data sources"})]})}),Object(Pe.jsx)("div",{style:{maxHeight:300,overflow:"auto"},children:t.length>0&&Object(Pe.jsxs)("div",{className:e.details,children:[Object(Pe.jsxs)(I.a,{container:!0,spacing:1,style:{fontSize:"smaller",fontStyle:"italic",paddingRight:60},children:[Object(Pe.jsx)(I.a,{item:!0,xs:1,children:Object(Pe.jsx)("span",{children:"Enabled"})}),Object(Pe.jsx)(I.a,{item:!0,xs:3,children:Object(Pe.jsx)("span",{children:"Name"})}),Object(Pe.jsx)(I.a,{item:!0,xs:4,children:Object(Pe.jsx)("span",{children:"API base url"})}),Object(Pe.jsx)(I.a,{item:!0,xs:3,children:Object(Pe.jsx)("span",{children:"Icon url"})})]}),t.map(((e,t)=>!e.deleted&&Object(Pe.jsx)(we,{dataSource:e,index:t},t)))]})}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsxs)(I.a,{container:!0,alignItems:"center",children:[Object(Pe.jsx)(I.a,{item:!0,xs:1,children:Object(Pe.jsx)(P.a,{title:"Synchronise",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"secondary",onClick:n,children:Object(Pe.jsx)(x.a,{})})})}),Object(Pe.jsx)(I.a,{item:!0,xs:10,children:this.props.readOnly?Object(Pe.jsxs)("div",{className:e.version,children:[Object(Pe.jsx)(C.a,{value:c,label:"x-v",helperText:"Preferred version",inputProps:{readOnly:!0}}),Object(Pe.jsx)(C.a,{value:i,label:"x-min-v",helperText:"Minimal acceptable version",inputProps:{readOnly:!0}}),Object(Pe.jsx)(f.a,{color:"primary",style:{marginTop:20},onClick:this.props.setVersionsEditable,children:Object(Pe.jsx)(P.a,{title:"Change x-v, x-min-v",children:Object(Pe.jsx)(O.a,{})})})]}):Object(Pe.jsxs)("div",{className:e.version,children:[Object(Pe.jsx)(Be.a,{id:"xV",freeSolo:!0,options:r,value:c,renderInput:e=>Object(Pe.jsx)(C.a,{...e,label:"x-v",helperText:"Preferred version"}),onInputChange:(e,t)=>c=t,style:{display:"inline"}}),Object(Pe.jsx)(Be.a,{id:"xMinV",freeSolo:!0,options:r,value:i,renderInput:e=>Object(Pe.jsx)(C.a,{...e,label:"x-min-v",helperText:"Minimal acceptable version"}),onInputChange:(e,t)=>i=t,style:{display:"inline"}}),Object(Pe.jsx)(f.a,{color:"primary",style:{marginTop:20},onClick:()=>{c&&i&&(c!==s.xV||i!==s.xMinV)?(this.props.saveVersionInfo({xV:c,xMinV:i}),t.forEach(((e,t)=>{if(!e.unsaved&&!e.deleted&&e.enabled){this.props.clearSelection(t),this.props.clearData(t),this.props.startRetrieveProductList(t);const a=pe(e.url);this.props.retrieveProductList(t,a,a+"/banking/products",c,i)}}))):this.props.setVersionsReadOnly()},children:Object(Pe.jsx)(P.a,{title:"Apply x-v, x-min-v",children:Object(Pe.jsx)(g.a,{})})})]})}),Object(Pe.jsx)(I.a,{item:!0,xs:1,style:{textAlign:"end"},children:Object(Pe.jsx)(P.a,{title:"Add",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"primary",onClick:a,children:Object(Pe.jsx)(N.a,{})})})})]})})]})}}const Je={loadDataSource:function(){const e=X();return{type:_,payload:e?Promise.resolve(e):K().then((e=>{for(let t=0;t<4&&t<e.length;t++)e[t].enabled=!0;return e}))}},addDataSource:function(){return{type:k}},syncDataSources:function(){const e=(e,t)=>e.name<t.name?-1:1;return{type:U,payload:K().then((t=>{const a=X();if(a){const n=[],s=[];return function(e,t,a){e.forEach((e=>{t.length<W.length&&W.includes(e.name)?t.push(e):a.push(e)}))}(z(a,t),n,s),[...n.sort(e),...s.sort(e)]}return t}))}},loadVersionInfo:function(){return{type:Ge}},saveVersionInfo:function(e){return{type:He,versionInfo:e}},setVersionsEditable:function(){return{type:Ye}},setVersionsReadOnly:function(){return{type:We}},startRetrieveProductList:ge,retrieveProductList:ye,clearSelection:ee,clearData:Te};var Ze=Object(l.a)((e=>({panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"80%",marginLeft:"auto",marginRight:"auto",marginBottom:20},version:{textAlign:"center","& .MuiTextField-root":{margin:e.spacing(2),width:"20ch"}},leftIcon:{marginRight:e.spacing(1)}})))(Object(i.b)((e=>({dataSources:e.dataSources,vHeaders:e.versionInfo.vHeaders,readOnly:!e.versionInfo.editable})),Je)(qe)),Qe=a(37),$e=a.n(Qe),et=a(78),tt=a.n(et),at=a(201);var nt=e=>{const{bundle:t}=e;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsx)("div",{children:t.name}),Object(Pe.jsx)("div",{children:t.description}),!!t.additionalInfo&&Object(Pe.jsx)("div",{children:t.additionalInfo}),!!t.additionalInfoUri&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:t.additionalInfoUri,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};const st={RESIDENTIAL_MORTGAGES:"Residential Mortgages",CRED_AND_CHRG_CARDS:"Credit and Charge Cards",PERS_LOANS:"Personal Loans",MARGIN_LOANS:"Margin Loans",LEASES:"Leases",TRADE_FINANCE:"Trade Finance",OVERDRAFTS:"Overdrafts",BUSINESS_LOANS:"Business Loans",TRANS_AND_SAVINGS_ACCOUNTS:"Transaction and Savings Accounts",TERM_DEPOSITS:"Term Deposits",TRAVEL_CARDS:"Travel Cards",REGULATED_TRUST_ACCOUNTS:"Regulated Trust Accounts"},rt={MIN_BALANCE:"Minimum Balance",MAX_BALANCE:"Maximum Balance",OPENING_BALANCE:"Opening Balance",MAX_LIMIT:"Maximum Credit Limit",MIN_LIMIT:"Minimum Credit Limit"},ct={FIXED:"Fixed",BONUS:"Bonus",BUNDLE_BONUS:"Bundle Bonus",VARIABLE:"Variable",INTRODUCTORY:"Introductory",FLOATING:"Floating",MARKET_LINKED:"Market Linked"},it={FIXED:"Fixed",VARIABLE:"Variable",INTRODUCTORY:"Introductory",FLOATING:"Floating",MARKET_LINKED:"Market Linked",DISCOUNT:"Discount",PENALTY:"Penalty",CASH_ADVANCE:"Cash Advance",PURCHASE:"Purchase",BUNDLE_DISCOUNT_FIXED:"Bundle Discount Fixed",BUNDLE_DISCOUNT_VARIABLE:"Bundle Discount Variable"},lt={IN_ARREARS:"in Arrears",IN_ADVANCE:"in Advance"},ot={BUSINESS:"Business",PENSION_RECIPIENT:"Pension Recipient",MIN_AGE:"Minimum Age",MAX_AGE:"Maximum Age",MIN_INCOME:"Minimum Income",MIN_TURNOVER:"Minimum Turnover",STAFF:"Staff",STUDENT:"Student",EMPLOYMENT_STATUS:"Employment Status",RESIDENCY_STATUS:"Residency Status",NATURAL_PERSON:"Natural Person",OTHER:"Other"},dt={CARD_ACCESS:"Card Access",CASHBACK_OFFER:"Cashback Offer",ADDITIONAL_CARDS:"Additional Cards",UNLIMITED_TXNS:"Unlimited Transactions",EXTRA_REPAYMENTS:"Extra Repayments",FRAUD_PROTECTION:"Fraud Protection",FREE_TXNS:"Free Transactions",FREE_TXNS_ALLOWANCE:"Free Transaction Allowance",GUARANTOR:"Guarantor",LOYALTY_PROGRAM:"Loyalty Program",OFFSET:"Offset",OVERDRAFT:"Overdraft",REDRAW:"Redraw",INSURANCE:"Insurance",BALANCE_TRANSFERS:"Balance Transfer",INSTALMENT_PLAN:"Instalment Plan",INTEREST_FREE:"Interest Free",INTEREST_FREE_TRANSFERS:"Interest Free Transfers",DIGITAL_WALLET:"Digital Wallet",DIGITAL_BANKING:"Digital Banking",NPP_PAYID:"NPP PayID",NPP_ENABLED:"NPP Enabled",DONATE_INTEREST:"Donate Interest",BILL_PAYMENT:"Bill Payment",COMPLEMENTARY_PRODUCT_DISCOUNTS:"Complementary Product Discounts",BONUS_REWARDS:"Bonus Rewards",NOTIFICATIONS:"Notifications",RELATIONSHIP_MANAGEMENT:"Relationship Management",OTHER:"Other"},jt={PERIODIC:"Periodic",TRANSACTION:"Transaction",WITHDRAWAL:"Withdrawal",DEPOSIT:"Deposit",PAYMENT:"Payment",PURCHASE:"Purchase",EVENT:"Event",UPFRONT:"Upfront",VARIABLE:"Variable",EXIT:"Exit"},pt={BALANCE:"Balance",DEPOSITS:"Deposits",PAYMENTS:"Payments",FEE_CAP:"Fee Cap",ELIGIBILITY_ONLY:"Eligibility Only"},bt={DOLLAR:"Dollars",PERCENT:"Percent",MONTH:"Month(s)",DAY:"Day(s)"},ut={WHOLE_BALANCE:"Whole Balance",PER_TIER:"Per Tier"},xt={INTEREST_ONLY:"Interest Only",PRINCIPAL_AND_INTEREST:"Principal and Interest"},ht={INVESTMENT:"Investment",OWNER_OCCUPIED:"Owner Occupied"},Ot={OK:"OK",PARTIAL_FAILURE:"Partial failure",SCHEDULED_OUTAGE:"Scheduled outage",UNAVAILABLE:"Unavailable"},mt=[{key:"description",label:"Description"},{key:"brand",label:"Brand"},{key:"brandName",label:"Brand Name"},{key:"lastUpdated",label:"Last Updated"},{key:"isTailored",label:"Tailored?"},{key:"effectiveFrom",label:"Effective From"},{key:"effectiveTo",label:"Effective To"},{key:"applicationUri",label:"Application Link"},{key:"additionalInformation",label:"Additional Information"},{key:"bundles",label:"Bundles"},{key:"constraints",label:"Constraints"},{key:"depositRates",label:"Deposit Rates"},{key:"lendingRates",label:"Lending Rates"},{key:"eligibility",label:"Eligibility"},{key:"features",label:"Features"},{key:"fees",label:"Fees"}],gt=e=>st[e],ft=e=>rt[e],yt=e=>ct[e],vt=e=>it[e],Et=e=>lt[e],Tt=e=>xt[e],Rt=e=>ht[e],Nt=e=>ot[e],It=e=>dt[e],At=e=>jt[e],St=e=>pt[e],Ct=e=>bt[e],Dt=e=>ut[e];var Lt=e=>{const{constraintType:t,additionalInfo:a,additionalValue:n,additionalInfoUri:s}=e.constraint;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[ft(t)," - $",n]}),!!a&&Object(Pe.jsx)("div",{children:a}),!!s&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};var Pt=e=>{const{additionalInfo:t,additionalInfoUri:a}=e.rateCondition;return Object(Pe.jsxs)("div",{children:[!!t&&Object(Pe.jsx)("div",{children:t}),!!a&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};var _t=e=>{const{name:t,unitOfMeasure:a,minimumValue:n,maximumValue:s,rateApplicationMethod:r,applicabilityConditions:c}=e.subTier;return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{children:t}),Object(Pe.jsxs)("div",{children:["Minimum ",n," ",Ct(a)]}),!!s&&Object(Pe.jsxs)("div",{children:["Maximum ",s," ",Ct(a)]}),!!r&&Object(Pe.jsxs)("div",{children:["Applied on ",Dt(r)]}),!!c&&Object(Pe.jsx)(Pt,{rateCondition:c})]})};const kt=Object(A.a)((()=>({sectionTitle:{fontStyle:"italic"},sectionContent:{paddingLeft:20}})));var Ut=e=>{const t=kt(),{name:a,unitOfMeasure:n,minimumValue:s,maximumValue:r,rateApplicationMethod:c,applicabilityConditions:i,subTier:l,additionalInfo:o,additionalInfoUri:d}=e.tier;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsx)("div",{children:a}),Object(Pe.jsxs)("div",{children:["Minimum ",s," ",Ct(n)]}),!!r&&Object(Pe.jsxs)("div",{children:["Maximum ",r," ",Ct(n)]}),!!c&&Object(Pe.jsxs)("div",{children:["Applied on ",Dt(c)]}),!!i&&Object(Pe.jsx)(Pt,{rateCondition:i}),!!l&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Sub Tier: "}),Object(Pe.jsx)("div",{className:t.sectionContent,children:Object(Pe.jsx)(_t,{subTier:l})})]}),!!o&&Object(Pe.jsx)("div",{children:o}),!!d&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})},Mt=a(60),Ft=a(109),wt=a.n(Ft);var Bt=e=>{const{prefix:t,value:a}=e;let n;if(!a||0===a.length)return!1;if(!Mt.pattern.test(a))return Object(Pe.jsx)("span",{children:a});const s=Object(Mt.parse)(a),r=["year","month","day","hour","minute","second"];return Object(Pe.jsxs)("span",{children:[t?t+" ":"",r.map(((e,t)=>{const a=s[e+"s"];return!!a&&(n||(n=a>1||r.filter((t=>t!==e&&s[t+"s"])).length>0),Object(Pe.jsxs)("span",{children:[n?" "+a:""," ",wt()(e,a)]},t))}))]})};var Vt=(e,t)=>"OTHER"===t?-1:"OTHER"===e?1:e<t?-1:e===t?0:1;const Gt=Object(A.a)((()=>({sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}})));var Ht=e=>{const t=Gt(),{rate:a,depositRateType:n,calculationFrequency:s,applicationFrequency:r,tiers:c,additionalValue:i,additionalInfo:l,additionalInfoUri:o}=e.depositRate;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[(100*a).toFixed(2),"%"]}),Object(Pe.jsxs)("div",{children:[yt(n),("FIXED"===n||"INTRODUCTORY"===n)&&!!i&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:i})]}),("BONUS"===n||"BUNDLE_BONUS"===n||"FLOATING"===n||"MARKET_LINKED"===n)&&Object(Pe.jsxs)("span",{children:[" - ",i]})]}),!!s&&Object(Pe.jsxs)("div",{children:["Calculated ",Object(Pe.jsx)(Bt,{prefix:"every",value:s})]}),!!r&&Object(Pe.jsxs)("div",{children:["Applied ",Object(Pe.jsx)(Bt,{prefix:"every",value:r})]}),!!c&&c.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Rate Tiers:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:c.sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Ut,{tier:e},t)))})]}),!!l&&Object(Pe.jsx)("div",{children:l}),!!o&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};const Yt=Object(A.a)((()=>({sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}})));var Wt=e=>{const t=Yt(),{lendingRateType:a,rate:n,calculationFrequency:s,applicationFrequency:r,comparisonRate:c,interestPaymentDue:i,repaymentType:l,loanPurpose:o,tiers:d,additionalValue:j,additionalInfo:p,additionalInfoUri:b}=e.lendingRate;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[(100*n).toFixed(2),"%"]}),!!c&&Object(Pe.jsxs)("div",{children:["Comparison rate: ",(100*c).toFixed(2),"%"]}),Object(Pe.jsxs)("div",{children:[vt(a),("FIXED"===a||"INTRODUCTORY"===a)&&!!j&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:j})]}),("DISCOUNT"===a||"PENALTY"===a||"FLOATING"===a||"MARKET_LINKED"===a||"BUNDLE_DISCOUNT_FIXED"===a||"BUNDLE_DISCOUNT_VARIABLE"===a)&&Object(Pe.jsxs)("span",{children:[" - ",j]}),("VARIABLE"===a||"PURCHASE"===a)&&!!j&&Object(Pe.jsxs)("span",{children:[" - ",j]})]}),!!s&&Object(Pe.jsxs)("div",{children:["Calculated ",Object(Pe.jsx)(Bt,{prefix:"every",value:s})]}),!!r&&Object(Pe.jsxs)("div",{children:["Applied ",Object(Pe.jsx)(Bt,{prefix:"every",value:r})]}),!!i&&Object(Pe.jsxs)("div",{children:["Interest Payment ",Et(i)]}),!!l&&Object(Pe.jsxs)("div",{children:["Repayment Type ",Tt(l)]}),!!o&&Object(Pe.jsxs)("div",{children:["Loan Purpose ",Rt(o)]}),!!d&&d.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Rate Tiers:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:d.sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Ut,{tier:e},t)))})]}),!!p&&Object(Pe.jsx)("div",{children:p}),!!b&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:b,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};var zt=e=>{const{eligibilityType:t,additionalValue:a,additionalInfo:n,additionalInfoUri:s}=e.eligibility;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[Nt(t),"OTHER"===t&&Object(Pe.jsxs)("span",{children:[" - ",n]}),("MIN_AGE"===t||"MAX_AGE"===t||"EMPLOYMENT_STATUS"===t||"RESIDENCY_STATUS"===t)&&Object(Pe.jsxs)("span",{children:[" - ",a]}),("BUSINESS"===t||"PENSION_RECIPIENT"===t||"STAFF"===t||"STUDENT"===t||"NATURAL_PERSON"===t)&&!!a&&Object(Pe.jsxs)("span",{children:[" - ",a]}),("BUSINESS"===t||"PENSION_RECIPIENT"===t||"STAFF"===t||"STUDENT"===t||"NATURAL_PERSON"===t)&&!!n&&Object(Pe.jsx)("div",{children:n}),("MIN_INCOME"===t||"MIN_TURNOVER"===t)&&Object(Pe.jsxs)("span",{children:[" - $",a]})]}),!!s&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};var Kt=e=>{const{featureType:t,additionalValue:a,additionalInfo:n,additionalInfoUri:s}=e.feature;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[It(t),"OTHER"===t&&Object(Pe.jsxs)("span",{children:[" - ",n]}),("CARD_ACCESS"===t||"FREE_TXNS"===t||"LOYALTY_PROGRAM"===t||"INSURANCE"===t||"DIGITAL_WALLET"===t||"COMPLEMENTARY_PRODUCT_DISCOUNTS"===t||"NOTIFICATIONS"===t||"BONUS_REWARDS"===t)&&Object(Pe.jsxs)("span",{children:[" - ",a]}),("ADDITIONAL_CARDS"===t||"UNLIMITED_TXNS"===t||"OFFSET"===t||"OVERDRAFT"===t||"REDRAW"===t||"BALANCE_TRANSFERS"===t||"DIGITAL_BANKING"===t||"NPP_PAYID"===t||"NPP_ENABLED"===t||"DONATE_INTEREST"===t||"BILL_PAYMENT"===t)&&!!a&&Object(Pe.jsxs)("span",{children:[" - ",a]}),("ADDITIONAL_CARDS"===t||"UNLIMITED_TXNS"===t||"OFFSET"===t||"OVERDRAFT"===t||"REDRAW"===t||"BALANCE_TRANSFERS"===t||"DIGITAL_BANKING"===t||"NPP_PAYID"===t||"NPP_ENABLED"===t||"DONATE_INTEREST"===t||"BILL_PAYMENT"===t)&&!!n&&Object(Pe.jsx)("div",{children:n}),("INTEREST_FREE"===t||"INTEREST_FREE_TRANSFERS"===t)&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:a})]}),("CASHBACK_OFFER"===t||"FREE_TXNS_ALLOWANCE"===t)&&Object(Pe.jsxs)("span",{children:[" - $",a]})]}),!!s&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};var Xt=e=>{const{discountEligibilityType:t,additionalValue:a,additionalInfo:n,additionalInfoUri:s}=e.eligibility,r="OTHER"===t&&Object(Pe.jsxs)("span",{children:[" - ",n]});return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[Nt(t),"MIN_AGE"===t||"MAX_AGE"===t||"EMPLOYMENT_STATUS"===t||"RESIDENCY_STATUS"===t?Object(Pe.jsxs)("span",{children:[" - ",a]}):r,("PENSION_RECIPIENT"===t||"STUDENT"===t)&&!!a&&Object(Pe.jsxs)("span",{children:[" - ",a]}),("MIN_INCOME"===t||"MIN_TURNOVER"===t)&&Object(Pe.jsxs)("span",{children:[" - $",a]})]}),!r&&!!n&&Object(Pe.jsx)("div",{children:n}),!!s&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"More info"})})]})};const qt=Object(A.a)((()=>({sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}})));var Jt=e=>{const t=qt(),{description:a,discountType:n,amount:s,balanceRate:r,transactionRate:c,accruedRate:i,feeRate:l,additionalValue:o,additionalInfo:d,additionalInfoUri:j,eligibility:p}=e.discount;return Object(Pe.jsxs)("li",{children:[!!s&&Object(Pe.jsxs)("div",{children:["$",s]}),!!r&&Object(Pe.jsxs)("div",{children:["Balance rate: ",(100*r).toFixed(2),"%"]}),!!c&&Object(Pe.jsxs)("div",{children:["Transaction rate: ",(100*c).toFixed(2),"%"]}),!!i&&Object(Pe.jsxs)("div",{children:["Accrued rate: ",(100*i).toFixed(2),"%"]}),!!l&&Object(Pe.jsxs)("div",{children:["Fee rate: ",(100*l).toFixed(2),"%"]}),Object(Pe.jsxs)("div",{children:["Discount Type - ",St(n),("BALANCE"===n||"DEPOSITS"===n||"PAYMENTS"===n)&&Object(Pe.jsxs)("span",{children:[" - $",o]}),"FEE_CAP"===n&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:o})]})]}),Object(Pe.jsx)("div",{children:a}),"ELIGIBILITY_ONLY"===n&&o&&Object(Pe.jsx)("div",{children:o}),!!d&&Object(Pe.jsx)("div",{children:d}),!!j&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:j,target:"_blank",rel:"noopener noreferrer",children:"More info"})}),!!p&&p.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Discount Eligibilities"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:p.sort(((e,t)=>Vt(e.discountEligibilityType,t.discountEligibilityType))).map(((e,t)=>Object(Pe.jsx)(Xt,{eligibility:e},t)))})]})]})};function Zt(e){const t=new Date(Date.parse(e)).toString(),a=t.indexOf("GMT");return a>0?t.substring(0,a):t}const Qt=Object(A.a)((()=>({sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}})));var $t=e=>{const t=Qt(),{name:a,feeType:n,amount:s,balanceRate:r,transactionRate:c,accruedRate:i,accrualFrequency:l,currency:o,additionalValue:d,additionalInfo:j,additionalInfoUri:p,discounts:b}=e.fee;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:[a,!!s&&Object(Pe.jsxs)("span",{children:[" - $",s]}),!!r&&Object(Pe.jsxs)("span",{children:[" - ",(100*r).toFixed(2),"%"]}),!!c&&Object(Pe.jsxs)("span",{children:[" - ",(100*c).toFixed(2),"%"]}),!!i&&Object(Pe.jsxs)("span",{children:[" - ",(100*i).toFixed(2),"%"]}),!!l&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:l})]})]}),Object(Pe.jsxs)("div",{children:["Fee Type - ",At(n),"PERIODIC"===n&&Object(Pe.jsxs)("span",{children:[" - ",Object(Pe.jsx)(Bt,{prefix:"every",value:d})]})]}),!!o&&Object(Pe.jsxs)("div",{children:["Currency - ",o]}),"PERIODIC"!==n&&!!d&&Object(Pe.jsx)("div",{children:(u=d,Mt.pattern.test(u)?Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsx)(Bt,{prefix:"every",value:d})}):d)}),!!j&&Object(Pe.jsx)("div",{children:j}),!!p&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",children:"More info"})}),!!b&&b.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Discounts:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:b.sort(((e,t)=>Vt(e.discountType,t.discountType))).map(((e,t)=>Object(Pe.jsx)(Jt,{discount:e},t)))})]})]});var u};const ea=Object(A.a)((()=>({cardArt:{display:"table-row","& img":{maxWidth:100,maxHeight:100,display:"table-cell",verticalAlign:"middle",paddingRight:5},"& span":{display:"table-cell",verticalAlign:"middle"}}})));var ta=function(e){const{cardArt:t}=e,a=ea();return Object(Pe.jsxs)("li",{children:[!!t.title&&Object(Pe.jsx)("div",{children:t.title}),Object(Pe.jsx)("div",{children:Object(Pe.jsxs)("a",{className:a.cardArt,href:t.imageUri,target:"_blank",rel:"noopener noreferrer",children:[Object(Pe.jsx)("img",{src:t.imageUri,alt:""}),Object(Pe.jsx)("span",{children:t.imageUri})]})})]})};const aa=Object(A.a)((()=>({datetime:{textDecoration:"underline"}})));var na=e=>{let{rfc3339:t}=e;const a=aa();return Object(Pe.jsx)("span",{className:a.datetime,children:Zt(t)})};var sa=e=>{let{title:t,uris:a}=e;return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{children:t}),Object(Pe.jsx)("ul",{children:a.map(((e,t)=>Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:e.additionalInfoUri,target:"_blank",rel:"noopener noreferrer",children:e.description})},t)))})]})};const ra=Object(A.a)((()=>({ul:{marginTop:0,marginBottom:0,paddingLeft:20},tableCell:{marginTop:0,marginBottom:0,padding:0}})));var ca=e=>{const{tableCell:t}=e,{overviewUri:a,termsUri:n,eligibilityUri:s,feesAndPricingUri:r,bundleUri:c,additionalOverviewUris:i,additionalTermsUris:l,additionalEligibilityUris:o,additionalFeesAndPricingUris:d,additionalBundleUris:j}=e.additionalInfo,p=ra();return Object(Pe.jsxs)("ul",{className:t?p.tableCell:p.ul,children:[!!a&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"Overview"})}),!!n&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"Terms"})}),!!s&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"Eligibility"})}),!!r&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:"Fee and Pricing"})}),!!c&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:"Bundle"})}),!!i&&Object(Pe.jsx)(sa,{title:"Additional Overview URIs",uris:i}),!!l&&Object(Pe.jsx)(sa,{title:"Additional Terms and Conditions URIs",uris:l}),!!o&&Object(Pe.jsx)(sa,{title:"Additional Eligibility Rules and Criteria URIs",uris:o}),!!d&&Object(Pe.jsx)(sa,{title:"Additional Fees, Pricing, Discounts, Exemptions and Bonuses URIs",uris:d}),!!j&&Object(Pe.jsx)(sa,{title:"Additional Bundle URIs",uris:j})]})};const ia=Object(A.a)((()=>({root:{display:"flex",alignItems:"flex-start"},details:{display:"block",lineHeight:"1.8rem",paddingRight:40},datetime:{textDecoration:"underline"},sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}}))),la=Object(l.a)({root:{width:"100%",backgroundColor:"transparent",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(o.a),oa=Object(l.a)({root:{paddingLeft:0,paddingRight:24,alignItems:"flex-start",backgroundColor:"transparent",marginBottom:-1,maxHeight:36,minHeight:24,"&$expanded":{maxHeight:36,minHeight:24}},content:{margin:"8px 0","&$expanded":{margin:"8px 0"}},expandIcon:{paddingTop:8,"&$expanded":{paddingTop:8}},expanded:{}})(d.a),da={selectProduct:(e,t)=>({type:Z,payload:{dataSourceIdx:e,product:t}}),deselectProduct:(e,t)=>({type:Q,payload:{dataSourceIdx:e,product:t}})};var ja=Object(i.b)((e=>({selectedProducts:e.bankingSelection})),da)((e=>{const t=ia(),{product:a,dataSourceIndex:n,selectedProducts:s}=e,r=s.filter((e=>e.dataSourceIdx===n&&e.product.productId===a.productId)).length>0,c=new Blob([JSON.stringify(a,null,2)],{type:"application/json"});return Object(Pe.jsxs)("div",{className:t.root,children:[Object(Pe.jsx)(S.a,{checked:r,onChange:t=>{t.target.checked?e.selectProduct(n,a):e.deselectProduct(n,a)},color:"primary"}),Object(Pe.jsxs)(la,{defaultExpanded:!1,children:[Object(Pe.jsx)(oa,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsx)(E.a,{style:{fontSize:"0.8rem"},children:a.name})}),Object(Pe.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Object(Pe.jsx)("div",{children:a.description}),Object(Pe.jsxs)("div",{children:["Brand: ",a.brand," ",!!a.bandName&&Object(Pe.jsxs)("span",{children:["(",a.bandName,")"]})]}),Object(Pe.jsxs)("div",{children:["Last updated at ",Object(Pe.jsx)(na,{rfc3339:a.lastUpdated})," ",Object(Pe.jsx)("a",{href:URL.createObjectURL(c),target:"_blank",rel:"noopener noreferrer",children:"JSON"})]}),Object(Pe.jsx)("div",{children:a.isTailored?"Tailored":"Not Tailored"}),!!a.effectiveFrom&&Object(Pe.jsxs)("div",{children:["Effective from ",Object(Pe.jsx)(na,{rfc3339:a.effectiveFrom})]}),!!a.effectiveTo&&Object(Pe.jsxs)("div",{children:["Effective to ",Object(Pe.jsx)(na,{rfc3339:a.effectiveTo})]}),!!a.applicationUri&&Object(Pe.jsx)("div",{children:Object(Pe.jsx)("a",{href:a.applicationUri,target:"_blank",rel:"noopener noreferrer",children:"Apply here"})}),!!a.additionalInformation&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Additional Information:"}),Object(Pe.jsx)(ca,{additionalInfo:a.additionalInformation})]}),!!a.bundles&&a.bundles.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Bundles:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.bundles.sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(nt,{bundle:e},t)))})]}),!!a.constraints&&a.constraints.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Constraints:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.constraints.sort(((e,t)=>Vt(e.constraintType,t.constraintType))).map(((e,t)=>Object(Pe.jsx)(Lt,{constraint:e},t)))})]}),!!a.depositRates&&a.depositRates.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Deposit Rates:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.depositRates.sort(((e,t)=>Vt(e.depositRateType,t.depositRateType))).map(((e,t)=>Object(Pe.jsx)(Ht,{depositRate:e},t)))})]}),!!a.lendingRates&&a.lendingRates.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Lending Rates:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.lendingRates.sort(((e,t)=>Vt(e.lendingRateType,t.lendingRateType))).map(((e,t)=>Object(Pe.jsx)(Wt,{lendingRate:e},t)))})]}),!!a.eligibility&&a.eligibility.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Eligibilities:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.eligibility.sort(((e,t)=>Vt(e.eligibilityType,t.eligibilityType))).map(((e,t)=>Object(Pe.jsx)(zt,{eligibility:e},t)))})]}),!!a.features&&a.features.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Features:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.features.sort(((e,t)=>Vt(e.featureType,t.featureType))).map(((e,t)=>Object(Pe.jsx)(Kt,{feature:e},t)))})]}),!!a.fees&&a.fees.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Fees:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.fees.filter((e=>e)).sort(((e,t)=>Vt(e.feeType,t.feeType))).map(((e,t)=>Object(Pe.jsx)($t,{fee:e},t)))})]}),!!a.cardArt&&a.cardArt.length>0&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:t.sectionTitle,children:"Card Art:"}),Object(Pe.jsx)("ul",{className:t.sectionContent,children:a.cardArt.map(((e,t)=>Object(Pe.jsx)(ta,{cardArt:e},t)))})]})]})]})]})}));var pa=e=>{const{dataSourceIndex:t,category:a,products:n}=e;return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("h4",{children:gt(a)}),n.sort(((e,t)=>((e,t)=>e<t?-1:e===t?0:1)(e.name,t.name))).map(((e,a)=>Object(Pe.jsx)(ja,{product:e,dataSourceIndex:t},a)))]})};class ba extends s.a.Component{componentDidMount(){const{dataSourceIndex:e,dataSource:t,versionInfo:a}=this.props,{url:n}=t,s=pe(n),r=s+"/banking/products";this.props.startRetrieveProductList(e),this.props.retrieveProductList(e,s,r,a.xV,a.xMinV)}render(){const{dataSourceIndex:e}=this.props;let t=this.props.productList[e];t=t||{};const{progress:a,totalRecords:n,detailRecords:s,failedDetailRecords:r,products:c,productDetails:i}=t,l={},o=s+r;if(n&&n<=o){const e={};r>0&&c.forEach((t=>{e[t.productId]=t})),i&&i.forEach((t=>{if(t){let a=t.productCategory;l[a]||(l[a]=[]),l[a].push(t),delete e[t.productId]}})),Object.keys(e).forEach((t=>{const a=e[t];let n=a.productCategory;l[n]||(l[n]=[]),l[n].push(a)}))}return Object(Pe.jsxs)("div",{style:{maxHeight:300,overflow:"auto"},children:[!!n&&o<n&&Object(Pe.jsx)(at.a,{variant:"determinate",value:100*o/n,style:{width:"93%"}}),a===ue&&Object(Pe.jsx)("p",{children:"Getting all current products..."}),o<n&&Object(Pe.jsx)("p",{children:"Getting product details..."}),!!c&&o>=n&&Object.keys(l).sort().map(((t,a)=>Object(Pe.jsx)(pa,{category:t,products:l[t],dataSourceIndex:e},a)))]})}}const ua={startRetrieveProductList:ge,retrieveProductList:ye};var xa=Object(i.b)((e=>({productList:e.banking,versionInfo:e.versionInfo.vHeaders})),ua)(ba);const ha="COMPARE_PRODUCTS";const Oa=Object(A.a)((e=>({container:{marginLeft:e.typography.pxToRem(20),marginRight:e.typography.pxToRem(20)},panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"95%",marginLeft:"auto",marginRight:"auto",marginBottom:20},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)}})));function ma(e){return!e.unsaved&&!e.deleted&&e.enabled&&(!e.sectors||e.sectors.includes("banking"))}const ga={compareProducts:e=>({type:ha,payload:e})};var fa=Object(i.b)((e=>({dataSources:e.dataSources,savedDataSourcesCount:e.dataSources.filter((e=>ma(e))).length,selectedProducts:e.bankingSelection})),ga)((e=>{const{dataSources:t,savedDataSourcesCount:a}=e,n=Oa(),[r,c]=s.a.useState(!0),i=(e,t)=>Math.max(12/e,t);return Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:n.panel,expanded:r,onChange:(e,t)=>{c(t)},children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:n.heading,children:[Object(Pe.jsx)($e.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Products"})]})}),Object(Pe.jsx)("div",{className:n.details,children:a>0&&Object(Pe.jsx)(I.a,{container:!0,alignItems:"flex-start",spacing:2,className:n.container,children:t.map(((e,t)=>ma(e)&&Object(Pe.jsxs)(I.a,{item:!0,xs:i(a,12),sm:i(a,12),md:i(a,6),lg:i(a,4),xl:i(a,3),children:[Object(Pe.jsxs)("div",{className:"title",children:[!!e.icon&&Object(Pe.jsx)("span",{children:Object(Pe.jsx)("img",{src:e.icon,alt:""})}),Object(Pe.jsx)("h2",{children:e.name})]}),Object(Pe.jsx)(xa,{dataSource:e,dataSourceIndex:t})]},t)))})}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsxs)(Xe.a,{variant:"extended",size:"medium",color:"primary",disabled:e.selectedProducts.length<2||e.selectedProducts.length>4,className:n.button,onClick:()=>{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?alert("The screen size is too small! Please use a bigger screen to compare."):(e.compareProducts(e.selectedProducts),c(!1))},children:[Object(Pe.jsx)(tt.a,{className:n.leftIcon}),"Compare"]})})]})})),ya=a(214),va=a(218),Ea=a(195);const Ta="START_RETRIEVE_PLAN_LIST",Ra="RETRIEVE_PLAN_LIST",Na="RETRIEVE_PLAN_DETAIL",Ia="CLEAR_ENERGY_DATA",Aa={Accept:"application/json"},Sa=(e,t,a,n,s,r,c)=>i=>{const l=new Request(a,{headers:new Headers({...Aa,"x-v":n,"x-min-v":s})});i(se("Requesting retrievePlanList() for ".concat(a)));i({type:Ra,payload:fetch(l).then((e=>{if(e.ok)return le(e,a,i),e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((e=>(i(se("Received retrievePlanList() response for ".concat(a,":"),e)),e))).catch((e=>(i(ie(e,a)),{meta:{totalRecords:0},data:{plans:[]},links:{}}))).then((t=>({idx:e,response:t})))}).then((l=>{let{value:o}=l;const{plans:d}=o.response.data,j=d.map((a=>Ca(e,t,a.planId,n,s))),{next:p}=o.response.links;if(p){const l=RegExp("^(https?://.*)(https?://.*)","gi").exec(a);l&&p===l[2]||!l&&p===a?i(re("The link next should not be the same as the current page URL (".concat(a,"):"),o.response.links)):j.push(Sa(e,t,l?l[1]+p:p,n,s,r,c))}i(Da(j))}))},Ca=(e,t,a,n,s)=>(r,c)=>{const i=t+"/energy/plans/"+be(a),l=new Request(i,{headers:new Headers({...Aa,"x-v":n,"x-min-v":s})});r(se("Requesting retrievePlanDetail() for plan "+a)),r({type:Na,payload:fetch(l).then((e=>{if(e.ok)return e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((t=>(r(se("Received response for ".concat(i,":"),t)),{idx:e,response:t}))).catch((t=>(r(ie(t,i)),{idx:e,response:null})))})},Da=e=>t=>t({type:"RETRIEVE_ALL_PLAN_DETAILS",payload:Promise.all(e.map((e=>t(e))))});var La=e=>{let{link:t,children:a}=e;return Object(Pe.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:a})};const Pa=Object(A.a)((()=>({ul:{marginTop:0,marginBottom:0,paddingLeft:20},tableCell:{marginTop:0,marginBottom:0,padding:0}})));var _a=e=>{let{tableCell:t,additionalInfo:a}=e;const{overviewUri:n,termsUri:s,eligibilityUri:r,pricingUri:c,bundleUri:i}=a,l=Pa();return Object(Pe.jsxs)("ul",{className:t?l.tableCell:l.ul,children:[!!n&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)(La,{link:n,children:"Overview"})}),!!s&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)(La,{link:s,children:"Terms and Conditions"})}),!!r&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)(La,{link:r,children:"Eligibility"})}),!!c&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)(La,{link:c,children:"Pricing"})}),!!i&&Object(Pe.jsx)("li",{children:Object(Pe.jsx)(La,{link:i,children:"Bundle"})})]})};const ka="SELECT_ENERGY_PLAN",Ua="DESELECT_ENERGY_PLAN",Ma="CLEAR_ENERGY_SELECTION";const Fa={STANDING:"Standing",MARKET:"Market",REGULATED:"Regulated"};var wa=e=>{let{type:t}=e;return Object(Pe.jsx)("span",{children:Fa[t]})};const Ba={ELECTRICITY:"Electricity",GAS:"Gas",DUAL:"Dual"};var Va=e=>{let{fuelType:t}=e;return Object(Pe.jsx)("span",{children:Ba[t]})};const Ga={RESIDENTIAL:"Residential",BUSINESS:"Business"};var Ha=e=>{let{customerType:t}=e;return Object(Pe.jsx)("span",{children:Ga[t]})};var Ya=e=>{let{geography:t}=e;const{excludedPostcodes:a,includedPostcodes:n,distributors:s}=t;return Object(Pe.jsxs)(Pe.Fragment,{children:[a&&a.length>0&&Object(Pe.jsxs)("li",{children:[Object(Pe.jsx)("div",{children:"Excluded Postcodes:"})," ",Object(Pe.jsx)("span",{children:a.join(", ")})]}),n&&n.length>0&&Object(Pe.jsxs)("li",{children:[Object(Pe.jsx)("div",{children:"Included Postcodes:"})," ",Object(Pe.jsx)("span",{children:n.join(", ")})]}),s&&Object(Pe.jsxs)("li",{children:[Object(Pe.jsx)("div",{children:"Distributors:"}),Object(Pe.jsx)("ul",{children:s.map(((e,t)=>Object(Pe.jsx)("li",{children:e},t)))})]})]})};const Wa=Object(A.a)((()=>({root:{display:"flex",alignItems:"flex-start"},sectionTitle:{fontStyle:"italic"},sectionContent:{marginTop:0,marginBottom:0,paddingLeft:20}}))),za=Object(l.a)({root:{width:"100%",backgroundColor:"transparent",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(o.a),Ka=Object(l.a)({root:{paddingLeft:0,paddingRight:24,alignItems:"flex-start",backgroundColor:"transparent",marginBottom:-1,maxHeight:36,minHeight:24,"&$expanded":{maxHeight:36,minHeight:24}},content:{margin:"8px 0","&$expanded":{margin:"8px 0"}},expandIcon:{paddingTop:8,"&$expanded":{paddingTop:8}},expanded:{}})(d.a),Xa={selectPlan:(e,t)=>({type:ka,payload:{dataSourceIdx:e,plan:t}}),deselectPlan:(e,t)=>({type:Ua,payload:{dataSourceIdx:e,plan:t}})};var qa=Object(i.b)((e=>({selectedPlans:e.energySelection})),Xa)((e=>{const{plan:t,dataSourceIndex:a,selectedPlans:n}=e,s=Wa(),r=n.some((e=>e.dataSourceIdx===a&&e.plan.planId===t.planId)),c=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});return Object(Pe.jsxs)("div",{className:s.root,children:[Object(Pe.jsx)(S.a,{checked:r,onChange:n=>n.target.checked?e.selectPlan(a,t):e.deselectPlan(a,t),color:"primary"}),Object(Pe.jsxs)(za,{defaultExpanded:!1,children:[Object(Pe.jsx)(Ka,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsx)(E.a,{style:{fontSize:"0.8rem"},children:t.displayName})}),Object(Pe.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Object(Pe.jsx)("div",{children:t.description}),Object(Pe.jsxs)("div",{children:["Brand: ",t.brand," ",!!t.brandName&&Object(Pe.jsxs)("span",{children:["(",t.brandName,")"]})]}),Object(Pe.jsxs)("div",{children:["Type: ",Object(Pe.jsx)(wa,{type:t.type})]}),Object(Pe.jsxs)("div",{children:["Fuel Type: ",Object(Pe.jsx)(Va,{fuelType:t.fuelType})]}),Object(Pe.jsxs)("div",{children:["Last updated at ",Object(Pe.jsx)(na,{rfc3339:t.lastUpdated})," ",Object(Pe.jsx)(La,{link:URL.createObjectURL(c),children:"JSON"})]}),!!t.effectiveFrom&&Object(Pe.jsxs)("div",{children:["Effective from ",Object(Pe.jsx)(na,{rfc3339:t.effectiveFrom})]}),!!t.effectiveTo&&Object(Pe.jsxs)("div",{children:["Effective to ",Object(Pe.jsx)(na,{rfc3339:t.effectiveTo})]}),!!t.applicationUri&&Object(Pe.jsx)(La,{link:t.applicationUri,children:"Apply here"}),!!t.additionalInformation&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:s.sectionTitle,children:"Additional Information:"}),Object(Pe.jsx)(_a,{additionalInfo:t.additionalInformation})]}),!!t.customerType&&Object(Pe.jsxs)("div",{children:["Customer Type: ",Object(Pe.jsx)(Ha,{customerType:t.customerType})]}),!!t.geography&&Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:s.sectionTitle,children:"Geography:"}),Object(Pe.jsx)("ul",{className:s.sectionContent,children:Object(Pe.jsx)(Ya,{geography:t.geography})})]})]})]})]})}));class Ja extends s.a.Component{render(){const{dataSourceIndex:e}=this.props;let t=this.props.planList[e];t=t||{};const{progress:a,totalRecords:n,detailRecords:s,failedDetailRecords:r,plans:c}=t,i=s+r;return Object(Pe.jsxs)("div",{style:{maxHeight:300,overflow:"auto"},children:[!!n&&i<n&&Object(Pe.jsx)(at.a,{variant:"determinate",value:100*i/n,style:{width:"93%"}}),a===Ta&&Object(Pe.jsx)("p",{children:"Getting all current plans..."}),i<n&&Object(Pe.jsx)("p",{children:"Getting plan details..."}),!!c&&i>=n&&Object.values(c).map(((t,a)=>Object(Pe.jsx)(qa,{plan:t,dataSourceIndex:e},a)))]})}}var Za=Object(i.b)((e=>({planList:e.energy})),{})(Ja);const Qa="COMPARE_ENERGY_PLANS";const $a=Object(A.a)((e=>({container:{marginLeft:e.typography.pxToRem(20),marginRight:e.typography.pxToRem(20)},panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"95%",marginLeft:"auto",marginRight:"auto",marginBottom:20},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)}})));function en(e){return!e.unsaved&&!e.deleted&&e.enabled&&(!e.sectors||e.sectors.includes("energy"))}const tn={startRetrievePlanList:e=>({type:Ta,payload:{idx:e}}),retrievePlanList:Sa,clearData:e=>({type:Ia,payload:e}),comparePlans:e=>({type:Qa,payload:e})};var an=Object(i.b)((e=>({dataSources:e.dataSources,savedDataSourcesCount:e.dataSources.filter((e=>en(e))).length,selectedPlans:e.energySelection,versionInfo:e.versionInfo.vHeaders})),tn)((e=>{const{dataSources:t,savedDataSourcesCount:a,versionInfo:n}=e,r=$a(),[c,i]=s.a.useState(!0),[l,p]=s.a.useState("CURRENT"),[u,x]=s.a.useState("GAS");s.a.useEffect((()=>(t.forEach(((t,a)=>{if(en(t)){e.startRetrievePlanList(a);const s=pe(t.energyPrd?t.energyPrd:t.url),r=s+"/energy/plans?effective="+l+"&fuelType="+u;e.retrievePlanList(a,s,r,n.xV,n.xMinV,l,u)}})),function(){t.forEach(((t,a)=>{en(t)&&e.clearData(a)}))})),[l,u,n.xV,n.xMinV,a]);const h=(e,t)=>Math.max(12/e,t);return Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:r.panel,expanded:c,onChange:(e,t)=>i(t),children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:r.heading,children:[Object(Pe.jsx)($e.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Plans"})]})}),Object(Pe.jsxs)(I.a,{container:!0,alignItems:"center",spacing:2,className:r.container,children:[Object(Pe.jsxs)(I.a,{item:!0,children:[Object(Pe.jsx)(Ea.a,{children:"Effective"}),Object(Pe.jsxs)(va.a,{row:!0,"aria-label":"effective",name:"effective",value:l,onChange:e=>p(e.target.value),children:[Object(Pe.jsx)(Le.a,{value:"CURRENT",control:Object(Pe.jsx)(ya.a,{}),label:"Current"}),Object(Pe.jsx)(Le.a,{value:"FUTURE",control:Object(Pe.jsx)(ya.a,{}),label:"Future"}),Object(Pe.jsx)(Le.a,{value:"ALL",control:Object(Pe.jsx)(ya.a,{}),label:"All"})]})]}),Object(Pe.jsxs)(I.a,{item:!0,children:[Object(Pe.jsx)(Ea.a,{children:"Fuel type"}),Object(Pe.jsxs)(va.a,{row:!0,"aria-label":"fuelType",name:"fuelType",value:u,onChange:e=>x(e.target.value),children:[Object(Pe.jsx)(Le.a,{value:"ELECTRICITY",control:Object(Pe.jsx)(ya.a,{}),label:"Electricity"}),Object(Pe.jsx)(Le.a,{value:"GAS",control:Object(Pe.jsx)(ya.a,{}),label:"Gas"}),Object(Pe.jsx)(Le.a,{value:"DUAL",control:Object(Pe.jsx)(ya.a,{}),label:"Dual"}),Object(Pe.jsx)(Le.a,{value:"ALL",control:Object(Pe.jsx)(ya.a,{}),label:"All"})]})]})]}),Object(Pe.jsx)("div",{className:r.details,children:a>0&&Object(Pe.jsx)(I.a,{container:!0,alignItems:"flex-start",spacing:2,className:r.container,children:t.map(((e,t)=>en(e)&&Object(Pe.jsxs)(I.a,{item:!0,xs:h(a,12),sm:h(a,12),md:h(a,6),lg:h(a,4),xl:h(a,3),children:[Object(Pe.jsxs)("div",{className:"title",children:[!!e.icon&&Object(Pe.jsx)("span",{children:Object(Pe.jsx)("img",{src:e.icon,alt:""})}),Object(Pe.jsx)("h2",{children:e.name})]}),Object(Pe.jsx)(Za,{dataSourceIndex:t})]},t)))})}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsxs)(Xe.a,{variant:"extended",size:"medium",color:"primary",disabled:e.selectedPlans.length<2||e.selectedPlans.length>4,className:r.button,onClick:()=>{/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?alert("The screen size is too small! Please use a bigger screen to compare."):(e.comparePlans(e.selectedPlans),i(!1))},children:[Object(Pe.jsx)(tt.a,{className:r.leftIcon}),"Compare"]})})]})})),nn=a(111),sn=a.n(nn),rn=a(48),cn=a.n(rn),ln=a(110),on=a.n(ln),dn=a(89),jn=a.n(dn);const pn=Object(A.a)((e=>({container:{marginLeft:e.typography.pxToRem(20),marginRight:e.typography.pxToRem(20)},panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"95%",marginLeft:"auto",marginRight:"auto",maxHeight:300,overflow:"auto",marginBottom:20},timestamp:{color:"grey",paddingRight:10,fontSize:"smaller"}}))),bn=e=>{let{data:t,toggled:a=!1,name:n=null,isLast:r=!0,isChildElement:c=!1,isParentToggled:i=!0}=e;const[l,o]=s.a.useState(a),d=t&&Array.isArray(t),j=!t||!d&&(t instanceof Error||"object"!==typeof t);return Object(Pe.jsxs)("div",{className:"tree-element".concat(i?"":" collapsed"," ").concat(c||l?"child":"parent"),children:[!jn.a.isEmpty(t)&&Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)("span",{className:"tree-toggler".concat(l?" open":"").concat(j?" collapsed":""),onClick:()=>o(!l)}),Object(Pe.jsx)(Pe.Fragment,{children:"\xa0\xa0"})]}),n&&Object(Pe.jsxs)("strong",{children:[n,": "]}),j?t?t+"":null===t?"null":t:Object(Pe.jsxs)(Pe.Fragment,{children:[d?"[":"{",!l&&!jn.a.isEmpty(t)&&"...",Object.keys(t).map(((e,a,s)=>"object"===typeof t[e]?Object(Pe.jsx)(bn,{data:t[e],isLast:a===s.length-1,name:d?null:e,isChildElement:!0,isParentToggled:i&&l},"".concat(n,"-").concat(e,"-").concat(a)):Object(Pe.jsxs)("p",{className:"tree-element".concat(l?"":" collapsed"),children:[d?"":Object(Pe.jsxs)("strong",{children:[e,": "]}),Object(Pe.jsx)(un,{val:t[e]}),a===s.length-1?"":","]},"".concat(n,"-").concat(e,"-").concat(a)))),d?"]":"}"]}),r?"":","]})},un=e=>{let{val:t}=e;const a="string"===typeof t?'"':"";return a+t+a},xn={refreshConout:()=>({type:ae}),cleanConout:()=>({type:ne})};var hn=Object(i.b)((e=>({conout:e.conout})),xn)((e=>{const t=pn(),[a,n]=s.a.useState(!1);return Object(Pe.jsxs)(o.a,{defaultExpanded:!1,className:t.panel,expanded:a,onChange:(e,t)=>{n(t)},children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:t.heading,children:[Object(Pe.jsx)(sn.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Console Output"})]})}),Object(Pe.jsx)("div",{className:t.details,children:e.conout.actions.map(((e,a)=>Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("span",{className:t.timestamp,children:on()(e.timestamp).format("L HH:mm:ss.SSS")}),e.payload.html?Object(Pe.jsx)("span",{style:{color:"error"===e.payload.lvl?"red":"black"},dangerouslySetInnerHTML:{__html:e.payload.html}}):Object(Pe.jsx)("span",{style:{color:"error"===e.payload.lvl?"red":"black"},children:e.payload.txt}),e.payload.obj&&Object(Pe.jsx)(bn,{data:e.payload.obj})]},a)))}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsxs)(I.a,{container:!0,alignItems:"center",children:[Object(Pe.jsx)(I.a,{item:!0,xs:1,children:Object(Pe.jsx)(P.a,{title:"Clean",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"secondary",onClick:e.cleanConout,children:Object(Pe.jsx)(L.a,{})})})}),Object(Pe.jsx)(I.a,{item:!0,xs:11,style:{textAlign:"end"},children:Object(Pe.jsx)(P.a,{title:"Synchronise",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"primary",onClick:e.refreshConout,children:Object(Pe.jsx)(cn.a,{})})})})]})})]})})),On="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAABJCAYAAAAQaymeAAAACXBIWXMAAAsSAAALEgHS3X78AAAHfElEQVR4nO1djXErKQxebl4DfiX4SvCV4JTgK8FXglNCXEJSQlKCXYJdQlJCUgI35EROFp9Y2GU3juGbYeIsPwIEQoBWa6y1XUNd+KPxuz40pleIxvQa4dZ0H7que3CPIuGBp6c8i67rDpE8Wj4f9+7KkPEizQHEZdWV1zGHlmjbCuVlaVeRclAdZdgNyBP0bV/gBHagQBRkxfoY7kOsQbDikQ7Mrmshpj+ivCztY6QcVD+1vhl5gnx94RcTbmv2e9913Qf7f0Ed7dPtQb4P8bwvH8fOGPNkrX0LYjCG1nUstsaYe2vthyzIGOPobhMIuDY+BU//wzl4oucZ3k40otFISRjBgQiOxYPRGuTX4obUtdBMV2cVkD5ae4N2amFo3/aFa1Lk1saYdfD0+rBTaqQ9vzr8yqjQPf0NRFtBuDXxz5zinFiV4tZaa4KE5bAwxmyttV/i1v1P4vZHIHmmW2v3FLT1aCjObCAtjTG5M+ZkjHmYWUrItTtlLb8aXIN4/2BSpCOlrm/WvLDfSxKtB2PMuzHmmWbeFDhSmSs/yOjvip4fE2h+DmwUgpQTIUe8TwYnPYhRK6aV3mv0KL1PxweI+71xgcq7Q5r2COzZzmFDTN6w4vZiZ4GwpDMGBE0DRxJw+HKCtNSsjX6PBqnFy+fUWVz7XWp5WRl+m/RIhzzq/rWE9k7/v7K0vM6vPeWg/fVFiNSp6D79arR3a+1RiO3HIFGY58PNemvtP9ba325mi/3sFOs8n40H5XkMR6doohDJE8OnrhWJD5DMdGPMgYImmkqAi/RshrmB4wZAEFEQpMjKJeNjAgWX42ugdF33W9DPppsz09cUVkFMIdCJnLqWe9Dgsy4EkfNAzqySp35RkI7C6WUrgNd4y4Zm0rVBzq4pZzkC7yN3NLwEaVRA7Z1EuDzP7sOqhIbpRrI7305Z04fWdWD7Luroigki0oA0cY8z6TZRUB/t2S7AlZe+rEXOjrVQ+pZN08xPWpqBt2yj24fqCeqt1RnRGtxHNFD5jmWJ6oOCLOg77tODBoEtnOzAhbjGRAHRHNK+q2Q6GMjRa18emmFkhWjmUhWiMb1CNKZXiMb0CtGYXiG+mM6PNiOh99yd7rN9GfDINlI+CvAMPoVOA0buTI9e9tMdN79f3gSJCmAuOrcKeAwLLj1SzW1l529AWaj8Ld2fozhkFp1KpwEh9eSp73SI0jyDU6boWyEDT70G0WmhsBGFELl8dhYVvXPRuWWU1N61t06gIvYD6NwspmI6N31a5d739mAuOjeLkkz/ErlkAXMGcT+Jzs2iCNONMRtmiOBnHjcGKMKMuejcOkrNdC5yP2eemIWlRO9cdG4apZjOZ9hR+V1iFs5F56ahHc4kg45AuY2Ze7UIZR91VDoXnRpQYqanzqxNwjtqMcxF5+ZR4l02zgx0FLoW738NNReei87NAzIdXKrAmUMi1ytOL+j1GmPMkSxbPWOymTEXnVoAmR55q7KLKE3QXttaezbGvBHTNsiJQALmolMFctd0+bIc30K9BKlx3JDj0rnoVIFmAl0hmrlUhWhMrxCN6RWiMb1CNKbXiKFvdQLHQNGA7NOE1+RnlEax08v2HB2rm0+vlanY5qk2eYmvb0N6iXnR27V9bw9/0dNee42FXUGmy0EWdEKEcUHDRzI9yAM6tZd+BuMgvRHv+ycNNDvSCzTyD+NP8pDXYgRkypx6fJrrOdoD1c37o4sd6KC6ojsACZQmhV4H8iI+dOz/TvHGfUkPjRRl9KqjMyeNItqTRDxIH9DR4rTnKW0Hoj0q4hP6Uo2PxcXaoT1HZX6nIsdnjp+tudeis3iOvjWza8h01PHM2d1dkGEYPLOkuM1lYpJDokJ17X6A2TXi3R3zQ4eZPrVnZbJj4050cy9KxnqOzsVPMrt2dTqRw2FYN870OT0rc7F4JmXsDcRpGOI5ukR9r9nsmkvLFSnVr2wA/N8/YsHfKY51fTjFtlUxZUKk4+7CFjb86M1GyXdRvijnAaXR8sYUHRG3ATS4s+ITyMO3TzsQ3iP01LrE2pHgcevdK56o0GTPyiAvrJBIAztMdC50jwWYnuw5WnuewHQ4GMWAW2rl9YTsnUSsHax/d6J+F3mCNX0Gz8qaFYxmkaNiiOfo76yvgMv/d/B0JNzyQ1/g+Is+jXIvFc+A6RITeFbmJso75tj3nT1fZHiXGOU5OgbF7NrXlyuPal25i28xUF6mNufyA0B++gu6HwlyFwLwIBFD6mxHJ4OlUNrsepT35hiYK5ZDJNknNMPIqSBFJTJy9Ee5Od4lnsCnPUqgqNm1k5pktbumreZ2Yj/xEJDpY70kR8DFr/uSYfDFQRKpG+qUFUojkek5Gu3rA/E8odk1/87LLpYH1HOoN+7L9ontWorGOUh7F7dUryg/pdvKLVKG5hrzHI3aArVbG94AbhE9G37TxW8/k8/eZdlz3LLl7PMCJoDGBJ2nbMnUcsTgOKWWD7Zwo+7T0VkCCmJwbBKZHnzwJ5N5Qf/RbI7l/WpfM4GuEM1cqkI0pleIxvQK0ZheIRrTa0PXdf8C3xToLPBGuVcAAAAASUVORK5CYII=";const mn=Object(A.a)((e=>({header:{marginTop:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between"},title:{color:"#202020",fontSize:e.typography.pxToRem(30),fontWeight:"bold"}})));function gn(e){const t=mn();return Object(Pe.jsxs)("div",{className:t.header,children:[Object(Pe.jsx)("img",{src:On,alt:"CDS logo"}),Object(Pe.jsx)(E.a,{className:t.title,children:e.title})]})}var fn=a(207),yn=a(80),vn=a.n(yn),En=a(202),Tn=a(206),Rn=a(205),Nn=a(203),In=a(204);const An=Object(A.a)((e=>({panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},table:{width:"95%",marginLeft:"auto",marginRight:"auto"},headerContainer:{width:"100%",display:"table"},dataContainer:{height:600,width:"100%",overflow:"auto",display:"block"},headCell:{color:Object(Ve.fade)("#000",.9),fontWeight:700,fontSize:"0.8rem"},dataCell:{verticalAlign:"top"}}))),Sn=(e,t)=>{switch(t){case"description":case"brand":case"brandName":return e[t];case"lastUpdated":case"effectiveFrom":case"effectiveTo":return e[t]?Zt(e[t]):"";case"isTailored":return e[t]?"Yes":"No";case"applicationUri":return!!e[t]&&Object(Pe.jsx)("a",{href:e[t],target:"_blank",rel:"noopener noreferrer",children:"Apply here"});case"additionalInformation":return!!e[t]&&Object(Pe.jsx)(ca,{additionalInfo:e[t],tableCell:!0});case"bundles":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(nt,{bundle:e},t)))});case"constraints":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Lt,{constraint:e},t)))});case"depositRates":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Ht,{depositRate:e},t)))});case"lendingRates":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Wt,{lendingRate:e},t)))});case"eligibility":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(zt,{eligibility:e},t)))});case"features":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)(Kt,{feature:e},t)))});case"fees":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].filter((e=>e)).sort(((e,t)=>Vt(e.name,t.name))).map(((e,t)=>Object(Pe.jsx)($t,{fee:e},t)))});case"cardArt":return!!e[t]&&e[t].length>0&&Object(Pe.jsx)("ul",{style:{margin:0,padding:0},children:e[t].map(((e,t)=>Object(Pe.jsx)(ta,{cardArt:e},t)))});default:return""}};var Cn=Object(i.b)((e=>({dataSources:e.dataSources,products:e.bankingComparison})))((e=>{const{dataSources:t,products:a}=e,n=An();return!!a&&a.length>0&&Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:n.panel,children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:n.heading,children:[Object(Pe.jsx)(vn.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Product Comparison"})]})}),Object(Pe.jsx)(En.a,{className:n.table,children:Object(Pe.jsx)(Nn.a,{children:Object(Pe.jsxs)(In.a,{children:[Object(Pe.jsx)(Rn.a,{width:"16%"}),a.map(((e,s)=>Object(Pe.jsxs)(Rn.a,{className:n.headCell,width:"".concat(90/a.length,"%"),children:[t[e.dataSourceIdx].name," - ",e.product.name]},s)))]})})}),Object(Pe.jsx)(En.a,{className:n.table,children:Object(Pe.jsx)(Tn.a,{className:n.dataContainer,children:mt.map((e=>Object(Pe.jsxs)(In.a,{className:n.table,children:[Object(Pe.jsx)(Rn.a,{component:"th",scope:"row",align:"right",className:n.dataCell,width:"16%",children:e.label}),a.map(((t,s)=>Object(Pe.jsx)(Rn.a,{className:n.dataCell,width:"".concat(90/a.length,"%"),children:Sn(t.product,e.key)},s)))]},e.key)))})})]})}));const Dn=Object(A.a)((e=>({panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},table:{width:"95%",marginLeft:"auto",marginRight:"auto"},headerContainer:{width:"100%",display:"table"},dataContainer:{height:600,width:"100%",overflow:"auto",display:"block"},headCell:{color:Object(Ve.fade)("#000",.9),fontWeight:700,fontSize:"0.8rem"},dataCell:{verticalAlign:"top"},ul:{margin:0,padding:0}})));var Ln=Object(i.b)((e=>({dataSources:e.dataSources,planSelections:e.energyComparison})))((e=>{const{dataSources:t,planSelections:a}=e,n=Dn(),s=(e,t)=>{switch(t){case"displayName":case"description":case"brand":case"brandName":return e[t];case"lastUpdated":case"effectiveFrom":case"effectiveTo":return e[t]?Zt(e[t]):"";case"type":return Object(Pe.jsx)(wa,{type:e[t]});case"fuelType":return Object(Pe.jsx)(Va,{fuelType:e[t]});case"applicationUri":return!!e[t]&&Object(Pe.jsx)(La,{link:e[t],children:"Apply here"});case"additionalInformation":return!!e[t]&&Object(Pe.jsx)(_a,{additionalInfo:e[t],tableCell:!0});case"customerType":return!!e[t]&&Object(Pe.jsx)(Ha,{customerType:e[t]});case"geography":return!!e[t]&&Object(Pe.jsx)("ul",{className:n.ul,children:Object(Pe.jsx)(Ya,{geography:e[t]})});default:return""}};return!!a&&a.length>0&&Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:n.panel,children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:n.heading,children:[Object(Pe.jsx)(vn.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Energy Comparison"})]})}),Object(Pe.jsx)(En.a,{className:n.table,children:Object(Pe.jsx)(Nn.a,{children:Object(Pe.jsxs)(In.a,{children:[Object(Pe.jsx)(Rn.a,{width:"16%"}),a.map(((e,s)=>Object(Pe.jsxs)(Rn.a,{className:n.headCell,width:"".concat(90/a.length,"%"),children:[t[e.dataSourceIdx].name," - ",e.plan.displayName]},s)))]})})}),Object(Pe.jsx)(En.a,{className:n.table,children:Object(Pe.jsx)(Tn.a,{className:n.dataContainer,children:[{key:"displayName",label:"Display Name"},{key:"description",label:"Description"},{key:"type",label:"Type"},{key:"fuelType",label:"Fuel Type"},{key:"brand",label:"Brand"},{key:"brandName",label:"Brand Name"},{key:"lastUpdated",label:"Last Updated"},{key:"effectiveFrom",label:"Effective From"},{key:"effectiveTo",label:"Effective To"},{key:"applicationUri",label:"Application Link"},{key:"additionalInformation",label:"Additional Information"},{key:"customerType",label:"Customer Type"},{key:"geography",label:"Geography"}].map((e=>Object(Pe.jsxs)(In.a,{className:n.table,children:[Object(Pe.jsx)(Rn.a,{component:"th",scope:"row",align:"right",className:n.dataCell,width:"16%",children:e.label}),a.map(((t,r)=>Object(Pe.jsx)(Rn.a,{className:n.dataCell,width:"".concat(90/a.length,"%"),children:s(t.plan,e.key)},r)))]},e.key)))})})]})})),Pn=a(208),_n=a(212),kn=a(209);class Un extends s.a.Component{render(){const{statusDetails:e,outagesDetails:t}=this.props;return Object(Pe.jsxs)(Pe.Fragment,{children:[!!e&&Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)("h4",{children:"Status"}),Object(Pe.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Object(Pe.jsxs)("div",{children:["Status: ",(a=e.status,Ot[a]),!!e.explanation&&Object(Pe.jsxs)("span",{children:[" - ",e.explanation]})]}),!!e.detectionTime&&Object(Pe.jsxs)("div",{children:["Detection Time: ",Object(Pe.jsx)(na,{rfc3339:e.detectionTime})]}),!!e.expectedResolutionTime&&Object(Pe.jsxs)("div",{children:["Expected Resolution Time: ",Object(Pe.jsx)(na,{rfc3339:e.expectedResolutionTime})]}),!!e.updateTime&&Object(Pe.jsxs)("div",{children:["Update Time: ",Object(Pe.jsx)(na,{rfc3339:e.updateTime})]})]})]}),!!t&&!!t.outages&&!!t.outages.length&&Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)("h4",{children:"Scheduled Outages"}),Object(Pe.jsx)("ul",{style:{fontSize:"0.8rem"},children:t.outages.map(((e,t)=>Object(Pe.jsx)(Mn,{outage:e},t)))})]})]});var a}}const Mn=e=>{const{outage:t}=e;return Object(Pe.jsxs)("li",{children:[Object(Pe.jsxs)("div",{children:["Outage Time: ",Object(Pe.jsx)(na,{rfc3339:t.outageTime})]}),!!t.duration&&Object(Pe.jsxs)("div",{children:["Planned Duration: ",Object(Pe.jsx)(Bt,{value:t.duration})]}),!!t.isPartial&&Object(Pe.jsxs)("div",{children:["Partial: ",t.isPartial]}),Object(Pe.jsxs)("div",{children:["\xab",t.explanation,"\xbb"]})]})};var Fn=Object(i.b)((e=>({})),{})(Un);const wn="RETRIEVE_STATUS",Bn="RETRIEVE_OUTAGES",Vn={Accept:"application/json"};const Gn=Object(A.a)((e=>({container:{marginLeft:e.typography.pxToRem(20),marginRight:e.typography.pxToRem(20)},panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"95%",marginLeft:"auto",marginRight:"auto",marginBottom:20}}))),Hn={retrieveStatus:(e,t,a,n)=>s=>{const r=t+"/discovery/status",c=new Request(r,{headers:new Headers({...Vn,"x-v":a,"x-min-v":n})});s(se("Requesting retrieveStatus(): "+r)),s({type:wn,payload:fetch(c).then((e=>{if(e.ok)return le(e,r,s),e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((t=>(s(se("Received response for ".concat(r,":"),t)),{idx:e,response:t}))).catch((e=>{s(ie(e,r))}))})},retrieveOutages:(e,t,a,n)=>s=>{const r=t+"/discovery/outages",c=new Request(r,{headers:new Headers({...Vn,"x-v":a,"x-min-v":n})});s(se("Requesting retrieveOutages(): "+r)),s({type:Bn,payload:fetch(c).then((e=>{if(e.ok)return le(e,r,s),e.json();throw new Error("Response not OK. Status: ".concat(e.status," (").concat(e.statusText,")"))})).then((t=>(s(se("Received response for ".concat(r,":"),t)),{idx:e,response:t}))).catch((e=>{s(ie(e,r))}))})}};var Yn=Object(i.b)((e=>({dataSources:e.dataSources,savedDataSourcesCount:e.dataSources.filter((e=>!e.unsaved&&!e.deleted&&e.enabled)).length,versionInfo:e.versionInfo.vHeaders,data:e.discovery})),Hn)((e=>{const{dataSources:t,savedDataSourcesCount:a}=e,n=Gn(),[r,c]=s.a.useState(!0);s.a.useEffect((()=>{l()}),[e.dataSources]);const i=(e,t)=>Math.max(12/e,t),l=()=>{const{versionInfo:t}=e;e.dataSources.forEach(((a,n)=>{const s=pe(a.url);a.unsaved||!a.enabled||a.deleted||(e.retrieveStatus(n,s,t.xV,t.xMinV),e.retrieveOutages(n,s,t.xV,t.xMinV))}))};return Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:n.panel,expanded:r,onChange:(e,t)=>{c(t)},children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:n.heading,children:[Object(Pe.jsx)($e.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Status & Outages"})]})}),Object(Pe.jsx)("div",{className:n.details,children:a>0&&Object(Pe.jsx)(I.a,{container:!0,alignItems:"flex-start",spacing:2,className:n.container,children:t.map(((t,n)=>{const s=e.data[n];if(!s)return!1;const{statusDetails:r,outagesDetails:c}=s;return!t.unsaved&&t.enabled&&!t.deleted&&Object(Pe.jsxs)(I.a,{item:!0,xs:i(a,12),sm:i(a,12),md:i(a,6),lg:i(a,4),xl:i(a,3),children:[Object(Pe.jsxs)("div",{className:"title",children:[!!t.icon&&Object(Pe.jsx)("span",{children:Object(Pe.jsx)("img",{src:t.icon,alt:""})}),Object(Pe.jsx)("h2",{children:t.name})]}),Object(Pe.jsx)(Fn,{statusDetails:r,outagesDetails:c})]},n)}))})}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsx)(P.a,{title:"Refresh",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"primary",onClick:l,children:Object(Pe.jsx)(cn.a,{})})})})]})}));const Wn="https://api.aemo.com.au/NEMRetail/cds-au/v1",zn="RETRIEVE_AEMO_STATUS",Kn="RETRIEVE_AEMO_OUTAGES",Xn={Accept:"application/json","x-v":1};const qn=Object(A.a)((e=>({container:{marginLeft:e.typography.pxToRem(20),marginRight:e.typography.pxToRem(20)},panel:{backgroundColor:Object(Ve.fade)("#fff",.9)},heading:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:e.typography.pxToRem(20)},details:{maxWidth:"95%",marginLeft:"auto",marginRight:"auto",marginBottom:20}}))),Jn={retrieveStatus:()=>e=>{const t=Wn+"/discovery/status",a=new Request(t,{headers:Xn});e(se("Requesting retrieveStatus(): "+t)),e({type:zn,payload:fetch(a).then((a=>{if(a.ok)return le(a,t,e),a.json();throw new Error("Response not OK. Status: ".concat(a.status," (").concat(a.statusText,")"))})).then((a=>(e(se("Received response for ".concat(t,":"),a)),a))).catch((a=>{e(ie(a,t))}))})},retrieveOutages:()=>e=>{const t=Wn+"/discovery/outages",a=new Request(t,{headers:Xn});e(se("Requesting retrieveOutages(): "+t)),e({type:Kn,payload:fetch(a).then((a=>{if(a.ok)return le(a,t,e),a.json();throw new Error("Response not OK. Status: ".concat(a.status," (").concat(a.statusText,")"))})).then((a=>(e(se("Received response for ".concat(t,":"),a)),a))).catch((a=>{e(ie(a,t))}))})}};var Zn=Object(i.b)((e=>({data:e.aemoDiscovery})),Jn)((e=>{const t=qn(),[a,n]=s.a.useState(!0),{statusDetails:r,outagesDetails:c}=e.data,i=()=>{e.retrieveStatus(),e.retrieveOutages()};return s.a.useEffect((()=>{i()}),[]),Object(Pe.jsxs)(o.a,{defaultExpanded:!0,className:t.panel,expanded:a,onChange:(e,t)=>{n(t)},children:[Object(Pe.jsx)(d.a,{expandIcon:Object(Pe.jsx)(b.a,{}),"aria-controls":"panel1c-content",children:Object(Pe.jsxs)("div",{className:t.heading,children:[Object(Pe.jsx)($e.a,{}),Object(Pe.jsx)(E.a,{style:{paddingLeft:8},children:"Status & Outages"})]})}),Object(Pe.jsxs)("div",{className:t.details,children:[Object(Pe.jsx)("p",{children:"Secondary Data Holders provide data to Data Holders via CDR requests, who in turn provide the data to ADRs. Such data is called Shared Responsibility Data (SR data)."}),Object(Pe.jsx)("p",{children:"Currently, only the energy sector has a designated secondary data holder: AEMO. This page lists the status and outages for AEMO."}),Object(Pe.jsx)("div",{className:"title",children:Object(Pe.jsx)("span",{children:Object(Pe.jsx)("img",{src:"https://www.aemo.com.au/-/media/project/aemo/global/logos/aemo-logo.svg",alt:"AEMO"})})}),Object(Pe.jsx)(Fn,{statusDetails:r,outagesDetails:c})]}),Object(Pe.jsx)(T.a,{}),Object(Pe.jsx)(j.a,{children:Object(Pe.jsx)(P.a,{title:"Refresh",children:Object(Pe.jsx)(Xe.a,{size:"medium",color:"primary",onClick:i,children:Object(Pe.jsx)(cn.a,{})})})})]})}));const Qn=Object(A.a)((e=>({hidden:{display:"none"}})));var $n=function(){const[e,t]=s.a.useState(0),a=Qn();return Object(Pe.jsxs)(fn.a,{maxWidth:!1,children:[Object(Pe.jsx)(gn,{title:"Product Comparator (demo)"}),Object(Pe.jsx)(Ze,{}),Object(Pe.jsx)(hn,{}),Object(Pe.jsx)(Pn.a,{position:"static",style:{marginTop:8,marginBottom:8},children:Object(Pe.jsxs)(_n.a,{value:e,onChange:(e,a)=>{t(a)},children:[Object(Pe.jsx)(kn.a,{label:"Banking"}),Object(Pe.jsx)(kn.a,{label:"Energy"}),Object(Pe.jsx)(kn.a,{label:"Status and Outages"}),Object(Pe.jsx)(kn.a,{label:"AEMO - Status and Outages"})]})}),Object(Pe.jsxs)("div",{className:0===e?"":a.hidden,children:[Object(Pe.jsx)(fa,{}),Object(Pe.jsx)(Cn,{})]}),Object(Pe.jsxs)("div",{className:1===e?"":a.hidden,children:[Object(Pe.jsx)(an,{}),Object(Pe.jsx)(Ln,{})]}),Object(Pe.jsx)("div",{className:2===e?"":a.hidden,children:Object(Pe.jsx)(Yn,{})}),Object(Pe.jsx)("div",{className:3===e?"":a.hidden,children:Object(Pe.jsx)(Zn,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var es=a(115),ts=a(210),as=a(114),ns=a.n(as),ss=a(40),rs=a(112),cs=a(113);const is=Object(ss.c)({conout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{actions:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:const{payload:a}=t;return"undefined"===typeof a.obj?console[a.lvl](a.txt):console[a.lvl](a.txt,a.obj),e.actions.push(t),e;case ae:return{...e};case ne:return{actions:[]};default:return e}},dataSources:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q(_):return t.payload;case k:return[...e,{name:"",url:""}];case q(U):return J(t.payload),t.payload;case M:{const a=e.map(((e,a)=>a===t.index?{...t.payload,unsaved:!1}:e));return J(a),a}case F:{const a=[...e];return a[t.index].deleted=!0,J(a),a}case w:case G:case H:{const a=e.map(((e,a)=>a===t.index?{...t.payload}:e));return J(a),a}case B:case V:{const a=e.map(((e,a)=>a===t.index?{...t.payload,unsaved:!0}:e));return J(a),a}default:return e}},versionInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vHeaders:{xV:"4",xMinV:"1"}},t=arguments.length>1?arguments[1]:void 0;const a={xV:ze("x-v")||e.vHeaders.xV,xMinV:ze("x-min-v")||e.vHeaders.xMinV};switch(t.type){case Ge:return{vHeaders:a};case He:const n=t.versionInfo;return Ke("x-v",n.xV),Ke("x-min-v",n.xMinV),{vHeaders:n};case Ye:return{editable:!0,vHeaders:a};case We:return{vHeaders:a};default:return e}},banking:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:{const a=[...e],{idx:n}=t.payload,s=a[n];return s?s.progress=t.type:a[n]={progress:t.type,detailRecords:0,failedDetailRecords:0,products:[],productDetails:[]},a}case q(xe):{const a=[...e],{idx:n,response:s}=t.payload,r=a[n];return r.progress=t.type,r.totalRecords=s.meta.totalRecords,r.products=[...r.products,...s.data.products],a}case q(he):{const a=[...e],{idx:n,response:s}=t.payload,r=a[n];return s?(r.productDetails.push(s.data),r.detailRecords++):r.failedDetailRecords++,a}case Oe:case me:{const a=[...e];return a[t.payload]=null,a}default:return e}},energy:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ta:{const a=[...e],{idx:n}=t.payload,s=a[n];return s?s.progress=t.type:a[n]={progress:t.type,detailRecords:0,failedDetailRecords:0,plans:{}},a}case q(Ra):{const a=[...e],{idx:n,response:s}=t.payload,r=a[n];return r.progress=t.type,r.totalRecords=s.meta.totalRecords,s.data.plans.forEach((e=>r.plans[e.planId]=e)),a}case q(Na):{const a=[...e],{idx:n,response:s}=t.payload,r=a[n];return s?(r.plans[s.data.planId]=s.data,r.detailRecords++):r.failedDetailRecords++,a}case Ia:{const a=[...e];return a[t.payload]=null,a}default:return e}},discovery:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q(wn):{const a=[...e];if(t.payload){const{idx:e,response:n}=t.payload;a[e]||(a[e]={}),a[e].statusDetails=n?n.data:null}return a}case q(Bn):{const a=[...e];if(t.payload){const{idx:e,response:n}=t.payload;a[e]||(a[e]={}),a[e].outagesDetails=n?n.data:null}return a}default:return e}},aemoDiscovery:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q(zn):{const a={...e};if(t.payload){const e=t.payload;a.statusDetails=e?e.data:null}return a}case q(Kn):{const a={...e};if(t.payload){const e=t.payload;a.outagesDetails=e?e.data:null}return a}default:return e}},bankingSelection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return[...e,t.payload];case Q:const{payload:a}=t;return e.filter((e=>e.dataSourceIdx!==a.dataSourceIdx||e.product.productId!==a.product.productId));case $:return e.filter((e=>e.dataSourceIdx!==t.payload));default:return e}},energySelection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ka:return[...e,t.payload];case Ua:const{payload:a}=t;return e.filter((e=>e.dataSourceIdx!==a.dataSourceIdx||e.plan.planId!==a.plan.planId));case Ma:return e.filter((e=>e.dataSourceIdx!==t.payload));default:return e}},bankingComparison:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===ha?[...t.payload]:e},energyComparison:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===Qa?[...t.payload]:e}}),ls=[rs.a,cs.a];var os=Object(ss.d)(is,Object(ss.a)(...ls));const ds=Object(es.a)({palette:{primary:ns.a},typography:{useNextVariants:!0}}),js=()=>Object(Pe.jsx)(i.a,{store:os,children:Object(Pe.jsx)(ts.a,{theme:ds,children:Object(Pe.jsx)($n,{})})});c.a.render(Object(Pe.jsx)(js,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[145,1,2]]]);
//# sourceMappingURL=main.77aefd2d.chunk.js.map